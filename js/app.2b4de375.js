(function(){"use strict";var t={559:function(t,e,n){var i=n(9242),o=n(3396);function r(t,e,n,i,r,s){const a=(0,o.up)("TicTacToe");return(0,o.wg)(),(0,o.j4)(a,{title:"Tic Tac Toe"})}var s=n(7139);function a(t,e,n,r,a,u){const l=(0,o.up)("Title"),c=(0,o.up)("Button"),g=(0,o.up)("WinLine");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l,{title:n.title},null,8,["title"]),(0,o._)("div",{ref:"gridContainer",class:(0,s.C_)(u.gridContainerClass)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.gameSetting.buttonsStatus,((t,e)=>((0,o.wg)(),(0,o.j4)(c,{key:e,ref_for:!0,ref:"buttons",buttonID:e},null,8,["buttonID"])))),128)),(0,o.wy)((0,o.Wm)(g,{mode:"vertical",position:this.gameSetting.winVerticalPosition},null,8,["position"]),[[i.F8,u.isLineVertical]]),(0,o.wy)((0,o.Wm)(g,{mode:"horizontal",position:this.gameSetting.winHorizontalPosition},null,8,["position"]),[[i.F8,u.isLineHorizontal>0]]),(0,o.wy)((0,o.Wm)(g,{mode:"slashDiagonal"},null,512),[[i.F8,u.isLineSlashDiagonal]]),(0,o.wy)((0,o.Wm)(g,{mode:"backslashDiagonal"},null,512),[[i.F8,u.isLineBackSlashDiagonal]])],2)],64)}const u={id:"resultPane"},l=["innerHTML"];function c(t,e,n,r,a,c){return(0,o.wg)(),(0,o.iD)("h1",null,[(0,o.Uk)((0,s.zw)(n.title)+" ",1),(0,o._)("button",{onClick:e[0]||(e[0]=(...e)=>t.reset&&t.reset(...e))},"Reset"),(0,o.wy)((0,o._)("span",u,[(0,o._)("span",{innerHTML:c.fnResultHtml},null,8,l)],512),[[i.F8,c.bShowResultPane]])])}var g=n(65);const h={CROSS:"cross",CIRCLE:"circle"},m={NOTHING:0,VERTICAL:1,HORIZONTAL:2,SLASHDIAGONAL:4,BACKSLASHDIAGONAL:8},S={PLAY:"play",WIN:"win",DRAW:"draw"};var f={name:"Title",props:{title:String,result:String},computed:{...(0,g.Se)(["gameSetting"]),fnResultHtml(){return"draw"===this.gameSetting.state?"Draw!!!":"win"===this.gameSetting.state?"<img src='/images/"+this.gameSetting.currentIcon+".png' /> wins.":""},bShowResultPane(){return this.gameSetting.state!==S.PLAY}},methods:{...(0,g.nv)(["reset"])}},d=n(89);const p=(0,d.Z)(f,[["render",c]]);var w=p;const L=["data-id","disabled"];function v(t,e,n,i,r,a){return(0,o.wg)(),(0,o.iD)("button",{"data-id":n.buttonID,onClick:e[0]||(e[0]=e=>t.buttonClick(n.buttonID)),class:(0,s.C_)(this.gameSetting.buttonsStatus[n.buttonID]),disabled:a.isButtonDisabled},null,10,L)}var b={name:"Button",expose:["onReset"],props:{buttonID:Number},computed:{...(0,g.Se)(["gameSetting"]),isButtonDisabled(){return this.gameSetting.state!==S.PLAY||""!==this.gameSetting.buttonsStatus[this.buttonID]}},created(){},methods:{...(0,g.nv)(["buttonClick"])}};const C=(0,d.Z)(b,[["render",v]]);var D=C;function A(t,e,n,i,r,a){return(0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(a.fnOverallCssClassString),style:(0,s.j5)(a.fnStyleString),ref:"line"},null,6)}const O=3;var I={name:"WinLine",props:{mode:String,position:Number},data(){return{iParentWidth:0,iParentHeight:0,fDegree:0}},async mounted(){await this.$nextTick(),this.setDegree(),window.addEventListener("resize",this.setDegree)},unmounted(){window.removeEventListener("resize",this.setDegree)},computed:{...(0,g.Se)(["gameSetting"]),fnOverallCssClassString(){return"strikethrough "+("vertical"==this.mode?"vertical":"horizontal")},fnStyleString(){switch(this.mode){case"vertical":return{left:(2*this.position+1)/(2*O)*100+"%"};case"horizontal":return{top:(2*this.position+1)/(2*O)*100+"%"};case"backslashDiagonal":return{top:"50%",transform:"skew(0, "+this.fDegree+"deg)"};case"slashDiagonal":return{top:"50%",transform:"skew(0, -"+this.fDegree+"deg)"}}}},methods:{setDegree(){this.iParentWidth=this.$refs.line?this.$refs.line.parentElement.offsetWidth:iButtonWidth,this.iParentHeight=this.$refs.line?this.$refs.line.parentElement.offsetHeight:iButtonHeight,this.fDegree=180*Math.atan(this.iParentHeight/this.iParentWidth)/Math.PI}}};const T=(0,d.Z)(I,[["render",A]]);var H=T,P={name:"TicTacToe",props:{title:String},computed:{...(0,g.Se)(["gameSetting"]),isLineVertical(){return(this.gameSetting.winLine&m.VERTICAL)>0},isLineHorizontal(){return(this.gameSetting.winLine&m.HORIZONTAL)>0},isLineSlashDiagonal(){return(this.gameSetting.winLine&m.SLASHDIAGONAL)>0},isLineBackSlashDiagonal(){return(this.gameSetting.winLine&m.BACKSLASHDIAGONAL)>0},gridContainerClass(){return"grid-container "+(this.gameSetting.state===S.PLAY?this.gameSetting.currentIcon:"")}},components:{Title:w,Button:D,WinLine:H},created(){},mounted(){},methods:{...(0,g.nv)(["reset"])}};const y=(0,d.Z)(P,[["render",a]]);var k=y,R=(n(2166),{name:"App",components:{TicTacToe:k}});const N=(0,d.Z)(R,[["render",r]]);var _=N;const W={state:S.PLAY,buttonsStatus:["","","","","","","","",""],currentIcon:h.CROSS,winLine:m.NOTHING,winVerticalPosition:0,winHorizontalPosition:0},z={gameSetting:W},j={gameSetting:t=>t.gameSetting},B={reset:({commit:t})=>{t("reset")},buttonClick:({commit:t},e)=>{t("buttonClick",e)}},E=t=>{const e=[1,3,4,5,7],n=3;let i={winLine:m.NOTHING,vertical_position:0,horizontal_position:0};return e.forEach(((e,o)=>{const r=t[e];if(r===h.CROSS||r===h.CIRCLE){const o=Math.floor(e/n),s=e%n;1===o&&t[e-n]===t[e+n]&&t[e-n]===r&&(i.winLine|=m.VERTICAL,i.vertical_position=s),1===s&&t[e-1]===t[e+1]&&t[e-1]===r&&(i.winLine|=m.HORIZONTAL,i.horizontal_position=o),1===o&&1===s&&(t[e-1-n]===t[e+1+n]&&t[e-1-n]===r&&(i.winLine|=m.BACKSLASHDIAGONAL),t[e+1-n]===t[e-1+n]&&t[e+1-n]===r&&(i.winLine|=m.SLASHDIAGONAL))}})),i},G={reset:t=>t.gameSetting=W,buttonClick:(t,e)=>{const n=t.gameSetting,i=n.buttonsStatus.map(((t,i)=>i===e?n.currentIcon:t)),o=E(i);console.log(o),o.winLine>0?(console.log("Condition 1"),t.gameSetting={...n,state:S.WIN,buttonsStatus:i,winLine:o.winLine,winVerticalPosition:o.vertical_position,winHorizontalPosition:o.horizontal_position},console.log(t.gameSetting)):0===i.filter((t=>""===t)).length?(console.log("Condition 2"),t.gameSetting={...n,state:S.DRAW,buttonsStatus:i}):(console.log("Condition 3"),t.gameSetting={...n,buttonsStatus:i,currentIcon:n.currentIcon===h.CROSS?h.CIRCLE:h.CROSS})}};var Z={state:z,getters:j,actions:B,mutations:G},M=new g.ZP.Store({modules:{tictactoe:Z}});(0,i.ri)(_).use(M).mount("#app")}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,r){if(!i){var s=1/0;for(c=0;c<t.length;c++){i=t[c][0],o=t[c][1],r=t[c][2];for(var a=!0,u=0;u<i.length;u++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(a=!1,r<s&&(s=r));if(a){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[i,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,r,s=i[0],a=i[1],u=i[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(u)var c=u(n)}for(e&&e(i);l<s.length;l++)r=s[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},i=self["webpackChunkvuejs"]=self["webpackChunkvuejs"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(559)}));i=n.O(i)})();
//# sourceMappingURL=app.2b4de375.js.map